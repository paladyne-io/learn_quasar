import{c as u,r as $,j as V,h as r,p as X,q as F,g as G,t as f,$ as j,B as J,C as Y,l as Z}from"./index.4e44a38f.js";import{Q as O}from"./QIcon.e188b234.js";import{Q as p}from"./QSpinner.c48bcbc1.js";import{a as ee,u as te,R as ne}from"./use-router-link.dd0537cb.js";import{u as ae,a as le}from"./use-size.8cfaaf87.js";import{c as ue,e as ie}from"./render.5487b79a.js";const A={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},re=Object.keys(A),oe={align:{type:String,validator:e=>re.includes(e)}};function se(e){return u(()=>{const d=e.align===void 0?e.vertical===!0?"stretch":"left":e.align;return`${e.vertical===!0?"items":"justify"}-${A[d]}`})}const Q={none:0,xs:4,sm:8,md:16,lg:24,xl:32},ce={xs:8,sm:10,md:14,lg:20,xl:24},de=["button","submit","reset"],ve=/[^\s]\/[^\s]/,fe={...le,...te,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,round:Boolean,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...oe.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function be(e){const d=ae(e,ce),c=se(e),{hasRouterLink:q,hasLink:L,linkTag:E,linkProps:C,navigateToRouterLink:w}=ee("button"),S=u(()=>{const a=e.fab===!1&&e.fabMini===!1?d.value:{};return e.padding!==void 0?Object.assign({},a,{padding:e.padding.split(/\s+/).map(v=>v in Q?Q[v]+"px":v).join(" "),minWidth:"0",minHeight:"0"}):a}),T=u(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),h=u(()=>e.disable!==!0&&e.loading!==!0),P=u(()=>h.value===!0?e.tabindex||0:-1),R=u(()=>e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":"standard"),n=u(()=>{const a={tabindex:P.value};return L.value===!0?Object.assign(a,C.value):de.includes(e.type)===!0&&(a.type=e.type),E.value==="a"?(e.disable===!0?a["aria-disabled"]="true":a.href===void 0&&(a.role="button"),q.value!==!0&&ve.test(e.type)===!0&&(a.type=e.type)):e.disable===!0&&(a.disabled="",a["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign(a,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),a}),x=u(()=>{let a;return e.color!==void 0?e.flat===!0||e.outline===!0?a=`text-${e.textColor||e.color}`:a=`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(a=`text-${e.textColor}`),`q-btn--${R.value} q-btn--${e.round===!0?"round":`rectangle${T.value===!0?" q-btn--rounded":""}`}`+(a!==void 0?" "+a:"")+(h.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")}),s=u(()=>c.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:x,style:S,innerClasses:s,attributes:n,hasRouterLink:q,hasLink:L,linkTag:E,navigateToRouterLink:w,isActionable:h}}const{passiveCapture:i}=Z;let b=null,g=null,m=null;var Le=ue({name:"QBtn",props:{...fe,percentage:Number,darkPercentage:Boolean},emits:["click","keydown","touchstart","mousedown","keyup"],setup(e,{slots:d,emit:c}){const{proxy:q}=G(),{classes:L,style:E,innerClasses:C,attributes:w,hasRouterLink:S,hasLink:T,linkTag:h,navigateToRouterLink:P,isActionable:R}=be(e),n=$(null),x=$(null);let s=null,a,v;const M=u(()=>e.label!==void 0&&e.label!==null&&e.label!==""),K=u(()=>e.disable===!0||e.ripple===!1?!1:{keyCodes:T.value===!0?[13,32]:[13],...e.ripple===!0?{}:e.ripple}),z=u(()=>({center:e.round})),N=u(()=>{const t=Math.max(0,Math.min(100,e.percentage));return t>0?{transition:"transform 0.6s",transform:`translateX(${t-100}%)`}:{}}),I=u(()=>e.loading===!0?{onMousedown:k,onTouchstartPassive:k,onClick:k,onKeydown:k,onKeyup:k}:R.value===!0?{onClick:_,onKeydown:D,onMousedown:U,onTouchstart:H}:{onClick:f}),W=u(()=>({ref:n,class:"q-btn q-btn-item non-selectable no-outline "+L.value,style:E.value,...w.value,...I.value}));function _(t){if(n.value!==null){if(t!==void 0){if(t.defaultPrevented===!0)return;const l=document.activeElement;if(e.type==="submit"&&l!==document.body&&n.value.contains(l)===!1&&l.contains(n.value)===!1){n.value.focus();const B=()=>{document.removeEventListener("keydown",f,!0),document.removeEventListener("keyup",B,i),n.value!==null&&n.value.removeEventListener("blur",B,i)};document.addEventListener("keydown",f,!0),document.addEventListener("keyup",B,i),n.value.addEventListener("blur",B,i)}}if(S.value===!0){const l=()=>{t.__qNavigate=!0,P(t)};c("click",t,l),t.defaultPrevented!==!0&&l()}else c("click",t)}}function D(t){n.value!==null&&(c("keydown",t),j(t,[13,32])===!0&&g!==n.value&&(g!==null&&y(),t.defaultPrevented!==!0&&(n.value.focus(),g=n.value,n.value.classList.add("q-btn--active"),document.addEventListener("keyup",o,!0),n.value.addEventListener("blur",o,i)),f(t)))}function H(t){n.value!==null&&(c("touchstart",t),t.defaultPrevented!==!0&&(b!==n.value&&(b!==null&&y(),b=n.value,s=t.target,s.addEventListener("touchcancel",o,i),s.addEventListener("touchend",o,i)),a=!0,clearTimeout(v),v=setTimeout(()=>{a=!1},200)))}function U(t){n.value!==null&&(t.qSkipRipple=a===!0,c("mousedown",t),t.defaultPrevented!==!0&&m!==n.value&&(m!==null&&y(),m=n.value,n.value.classList.add("q-btn--active"),document.addEventListener("mouseup",o,i)))}function o(t){if(n.value!==null&&!(t!==void 0&&t.type==="blur"&&document.activeElement===n.value)){if(t!==void 0&&t.type==="keyup"){if(g===n.value&&j(t,[13,32])===!0){const l=new MouseEvent("click",t);l.qKeyEvent=!0,t.defaultPrevented===!0&&J(l),t.cancelBubble===!0&&Y(l),n.value.dispatchEvent(l),f(t),t.qKeyEvent=!0}c("keyup",t)}y()}}function y(t){const l=x.value;t!==!0&&(b===n.value||m===n.value)&&l!==null&&l!==document.activeElement&&(l.setAttribute("tabindex",-1),l.focus()),b===n.value&&(s!==null&&(s.removeEventListener("touchcancel",o,i),s.removeEventListener("touchend",o,i)),b=s=null),m===n.value&&(document.removeEventListener("mouseup",o,i),m=null),g===n.value&&(document.removeEventListener("keyup",o,!0),n.value!==null&&n.value.removeEventListener("blur",o,i),g=null),n.value!==null&&n.value.classList.remove("q-btn--active")}function k(t){f(t),t.qSkipRipple=!0}return V(()=>{y(!0)}),Object.assign(q,{click:_}),()=>{let t=[];e.icon!==void 0&&t.push(r(O,{name:e.icon,left:e.stack===!1&&M.value===!0,role:"img","aria-hidden":"true"})),M.value===!0&&t.push(r("span",{class:"block"},[e.label])),t=ie(d.default,t),e.iconRight!==void 0&&e.round===!1&&t.push(r(O,{name:e.iconRight,right:e.stack===!1&&M.value===!0,role:"img","aria-hidden":"true"}));const l=[r("span",{class:"q-focus-helper",ref:x})];return e.loading===!0&&e.percentage!==void 0&&l.push(r("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[r("span",{class:"q-btn__progress-indicator fit block",style:N.value})])),l.push(r("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+C.value},t)),e.loading!==null&&l.push(r(X,{name:"q-transition--fade"},()=>e.loading===!0?[r("span",{key:"loading",class:"absolute-full flex flex-center"},d.loading!==void 0?d.loading():[r(p)])]:null)),F(r(h.value,W.value,l),[[ne,K.value,void 0,z.value]])}}});export{Le as Q};
