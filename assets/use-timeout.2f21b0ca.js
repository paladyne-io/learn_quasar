import{f as U,c as W,h as A,m as $,w as _,O as j,o as z,g as Q,M as H,j as X,P as B,R as m,S as d,n as D,U as F}from"./index.26cc8d54.js";import{u as I,a as O}from"./use-dark.917d1af0.js";import{g as R,a as K,h as G}from"./scroll.d7229a5c.js";var re=U({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const l=W(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>A("div",{class:l.value},$(t.default))}});const le={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},ie=["before-show","show","before-hide","hide"];function se({showing:e,canShow:t,hideOnRouteChange:l,handleShow:r,handleHide:i,processOnMount:p}){const s=Q(),{props:n,emit:a,proxy:q}=s;let u;function Y(o){e.value===!0?b(o):L(o)}function L(o){if(n.disable===!0||o!==void 0&&o.qAnchorHandled===!0||t!==void 0&&t(o)!==!0)return;const c=n["onUpdate:modelValue"]!==void 0;c===!0&&(a("update:modelValue",!0),u=o,H(()=>{u===o&&(u=void 0)})),(n.modelValue===null||c===!1)&&V(o)}function V(o){e.value!==!0&&(e.value=!0,a("before-show",o),r!==void 0?r(o):a("show",o))}function b(o){if(n.disable===!0)return;const c=n["onUpdate:modelValue"]!==void 0;c===!0&&(a("update:modelValue",!1),u=o,H(()=>{u===o&&(u=void 0)})),(n.modelValue===null||c===!1)&&P(o)}function P(o){e.value!==!1&&(e.value=!1,a("before-hide",o),i!==void 0?i(o):a("hide",o))}function S(o){n.disable===!0&&o===!0?n["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!1):o===!0!==e.value&&(o===!0?V:P)(u)}_(()=>n.modelValue,S),l!==void 0&&j(s)===!0&&_(()=>q.$route.fullPath,()=>{l.value===!0&&e.value===!0&&b()}),p===!0&&z(()=>{S(n.modelValue)});const E={show:L,hide:b,toggle:Y};return Object.assign(q,E),E}var ne=U({name:"QList",props:{...I,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(e,{slots:t}){const l=Q(),r=O(e,l.proxy.$q),i=W(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>A("div",{class:i.value},$(t.default))}});function ae(e,t,l){let r;function i(){r!==void 0&&(B.remove(r),r=void 0)}return X(()=>{e.value===!0&&i()}),{removeFromHistory:i,addToHistory(){r={condition:()=>l.value===!0,handler:t},B.add(r)}}}let v=0,y,g,w,T=!1,M,x,f;function J(e){N(e)&&D(e)}function N(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=F(e),l=e.shiftKey&&!e.deltaX,r=!l&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=l||r?e.deltaY:e.deltaX;for(let p=0;p<t.length;p++){const s=t[p];if(G(s,r))return r?i<0&&s.scrollTop===0?!0:i>0&&s.scrollTop+s.clientHeight===s.scrollHeight:i<0&&s.scrollLeft===0?!0:i>0&&s.scrollLeft+s.clientWidth===s.scrollWidth}return!0}function C(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function h(e){T!==!0&&(T=!0,requestAnimationFrame(()=>{T=!1;const{height:t}=e.target,{clientHeight:l,scrollTop:r}=document.scrollingElement;(w===void 0||t!==window.innerHeight)&&(w=l-t,document.scrollingElement.scrollTop=r),r>w&&(document.scrollingElement.scrollTop-=Math.ceil((r-w)/8))}))}function k(e){const t=document.body,l=window.visualViewport!==void 0;if(e==="add"){const{overflowY:r,overflowX:i}=window.getComputedStyle(t);y=R(window),g=K(window),M=t.style.left,x=t.style.top,t.style.left=`-${y}px`,t.style.top=`-${g}px`,i!=="hidden"&&(i==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),r!=="hidden"&&(r==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,m.is.ios===!0&&(l===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",h,d.passiveCapture),window.visualViewport.addEventListener("scroll",h,d.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",C,d.passiveCapture))}m.is.desktop===!0&&m.is.mac===!0&&window[`${e}EventListener`]("wheel",J,d.notPassive),e==="remove"&&(m.is.ios===!0&&(l===!0?(window.visualViewport.removeEventListener("resize",h,d.passiveCapture),window.visualViewport.removeEventListener("scroll",h,d.passiveCapture)):window.removeEventListener("scroll",C,d.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=M,t.style.top=x,window.scrollTo(y,g),w=void 0)}function Z(e){let t="add";if(e===!0){if(v++,f!==void 0){clearTimeout(f),f=void 0;return}if(v>1)return}else{if(v===0||(v--,v>0))return;if(t="remove",m.is.ios===!0&&m.is.nativeMobile===!0){clearTimeout(f),f=setTimeout(()=>{k(t),f=void 0},100);return}}k(t)}function ue(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Z(t))}}}function de(){let e;return X(()=>{clearTimeout(e)}),{registerTimeout(t,l){clearTimeout(e),e=setTimeout(t,l)},removeTimeout(){clearTimeout(e)}}}export{re as Q,ie as a,se as b,ne as c,de as d,ae as e,ue as f,le as u};
