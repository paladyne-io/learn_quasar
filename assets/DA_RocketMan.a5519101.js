import{Q as ne}from"./QImg.7a8e8136.js";import{u as Be,a as Ae}from"./use-dark.4c0c48e8.js";import{Q as Se,a as tt}from"./QScrollObserver.855db98c.js";import{T as ve}from"./TouchPan.a9370f59.js";import{f as de,r as u,c as o,aj as lt,al as at,am as ot,j as Le,h as d,Z as Re,l as xe,g as me,az as nt,aB as re,a8 as rt,N as it,w as ut,n as st,o as ct,q as G,E as ie,d as U,x as _e,D as Q,C as ue,y as se,z as Pe,t as ze,A as vt}from"./index.2cca3aea.js";import{b as j}from"./format.a33550d6.js";import{s as Ce,d as we}from"./scroll.4f05f9da.js";import{u as dt,b as mt,c as ft}from"./use-form.20200f24.js";import{u as bt}from"./use-quasar.543fc2f3.js";import"./touch.70a9dd44.js";import"./selection.efd1b60c.js";const Me=["vertical","horizontal"],ce={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},qe={prevent:!0,mouse:!0,mouseAllDir:!0},$e=a=>a>=250?50:Math.ceil(a/5);var ht=de({name:"QScrollArea",props:{...Be,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(a,{slots:z,emit:R}){const i=u(!1),e=u(!1),_=u(!1),c={vertical:u(0),horizontal:u(0)},l={vertical:{ref:u(null),position:u(0),size:u(0)},horizontal:{ref:u(null),position:u(0),size:u(0)}},p=me(),A=Ae(a,p.proxy.$q);let b,P;const g=u(null),C=o(()=>"q-scrollarea"+(A.value===!0?" q-scrollarea--dark":""));l.vertical.percentage=o(()=>{const n=l.vertical.size.value-c.vertical.value;if(n<=0)return 0;const r=j(l.vertical.position.value/n,0,1);return Math.round(r*1e4)/1e4}),l.vertical.thumbHidden=o(()=>(a.visible===null?_.value:a.visible)!==!0&&i.value===!1&&e.value===!1||l.vertical.size.value<=c.vertical.value+1),l.vertical.thumbStart=o(()=>l.vertical.percentage.value*(c.vertical.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=o(()=>Math.round(j(c.vertical.value*c.vertical.value/l.vertical.size.value,$e(c.vertical.value),c.vertical.value))),l.vertical.style=o(()=>({...a.thumbStyle,...a.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`})),l.vertical.thumbClass=o(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=o(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=o(()=>{const n=l.horizontal.size.value-c.horizontal.value;if(n<=0)return 0;const r=j(l.horizontal.position.value/n,0,1);return Math.round(r*1e4)/1e4}),l.horizontal.thumbHidden=o(()=>(a.visible===null?_.value:a.visible)!==!0&&i.value===!1&&e.value===!1||l.horizontal.size.value<=c.horizontal.value+1),l.horizontal.thumbStart=o(()=>l.horizontal.percentage.value*(c.horizontal.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=o(()=>Math.round(j(c.horizontal.value*c.horizontal.value/l.horizontal.size.value,$e(c.horizontal.value),c.horizontal.value))),l.horizontal.style=o(()=>({...a.thumbStyle,...a.horizontalThumbStyle,left:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`})),l.horizontal.thumbClass=o(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=o(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const S=o(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?a.contentStyle:a.contentActiveStyle),D=[[ve,n=>{I(n,"vertical")},void 0,{vertical:!0,...qe}]],T=[[ve,n=>{I(n,"horizontal")},void 0,{horizontal:!0,...qe}]];function w(){const n={};return Me.forEach(r=>{const v=l[r];n[r+"Position"]=v.position.value,n[r+"Percentage"]=v.percentage.value,n[r+"Size"]=v.size.value,n[r+"ContainerSize"]=c[r].value}),n}const k=lt(()=>{const n=w();n.ref=p.proxy,R("scroll",n)},0);function f(n,r,v){if(Me.includes(n)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(n==="vertical"?Ce:we)(g.value,r,v)}function M({height:n,width:r}){let v=!1;c.vertical.value!==n&&(c.vertical.value=n,v=!0),c.horizontal.value!==r&&(c.horizontal.value=r,v=!0),v===!0&&N()}function q({position:n}){let r=!1;l.vertical.position.value!==n.top&&(l.vertical.position.value=n.top,r=!0),l.horizontal.position.value!==n.left&&(l.horizontal.position.value=n.left,r=!0),r===!0&&N()}function W({height:n,width:r}){l.horizontal.size.value!==r&&(l.horizontal.size.value=r,N()),l.vertical.size.value!==n&&(l.vertical.size.value=n,N())}function I(n,r){const v=l[r];if(n.isFirst===!0){if(v.thumbHidden.value===!0)return;P=v.position.value,e.value=!0}else if(e.value!==!0)return;n.isFinal===!0&&(e.value=!1);const L=ce[r],y=c[r].value,$=(v.size.value-y)/(y-v.thumbSize.value),B=n.distance[L.dist],V=P+(n.direction===L.dir?1:-1)*B*$;K(V,r)}function H(n,r){const v=l[r];if(v.thumbHidden.value!==!0){const L=n[ce[r].offset];if(L<v.thumbStart.value||L>v.thumbStart.value+v.thumbSize.value){const y=L-v.thumbSize.value/2;K(y/c[r].value*v.size.value,r)}v.ref.value!==null&&v.ref.value.dispatchEvent(new MouseEvent(n.type,n))}}function O(n){H(n,"vertical")}function Y(n){H(n,"horizontal")}function N(){i.value===!0?clearTimeout(b):i.value=!0,b=setTimeout(()=>{i.value=!1},a.delay),a.onScroll!==void 0&&k()}function K(n,r){g.value[ce[r].scroll]=n}function Z(){_.value=!0}function X(){_.value=!1}Object.assign(p.proxy,{getScrollTarget:()=>g.value,getScroll:w,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:f,setScrollPercentage(n,r,v){f(n,r*(l[n].size.value-c[n].value),v)}});let F=null;return at(()=>{F={top:l.vertical.position.value,left:l.horizontal.position.value}}),ot(()=>{if(F===null)return;const n=g.value;n!==null&&(we(n,F.left),Ce(n,F.top))}),Le(k.cancel),()=>d("div",{class:C.value,onMouseenter:Z,onMouseleave:X},[d("div",{ref:g,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:a.tabindex!==void 0?a.tabindex:void 0},[d("div",{class:"q-scrollarea__content absolute",style:S.value},Re(z.default,[d(Se,{debounce:0,onResize:W})])),d(tt,{axis:"both",onScroll:q})]),d(Se,{debounce:0,onResize:M}),d("div",{class:l.vertical.barClass.value,style:[a.barStyle,a.verticalBarStyle],"aria-hidden":"true",onMousedown:O}),d("div",{class:l.horizontal.barClass.value,style:[a.barStyle,a.horizontalBarStyle],"aria-hidden":"true",onMousedown:Y}),xe(d("div",{ref:l.vertical.ref,class:l.vertical.thumbClass.value,style:l.vertical.style.value,"aria-hidden":"true"}),D),xe(d("div",{ref:l.horizontal.ref,class:l.horizontal.thumbClass.value,style:l.horizontal.style.value,"aria-hidden":"true"}),T)])}});const gt=["top","middle","bottom"];var pt=de({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:a=>gt.includes(a)}},setup(a,{slots:z}){const R=o(()=>a.align!==void 0?{verticalAlign:a.align}:null),i=o(()=>{const e=a.outline===!0&&a.color||a.textColor;return`q-badge flex inline items-center no-wrap q-badge--${a.multiLine===!0?"multi":"single"}-line`+(a.outline===!0?" q-badge--outline":a.color!==void 0?` bg-${a.color}`:"")+(e!==void 0?` text-${e}`:"")+(a.floating===!0?" q-badge--floating":"")+(a.rounded===!0?" q-badge--rounded":"")+(a.transparent===!0?" q-badge--transparent":"")});return()=>d("div",{class:i.value,style:R.value,role:"alert","aria-label":a.label},Re(z.default,a.label!==void 0?[a.label]:[]))}});const Te="q-slider__marker-labels",yt=a=>({value:a}),kt=({marker:a})=>d("div",{key:a.value,style:a.style,class:a.classes},a.label),Ne=[34,37,40,33,39,38],St={...Be,...dt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},xt=["pan","update:modelValue","change"];function _t({updateValue:a,updatePosition:z,getDragging:R,formAttrs:i}){const{props:e,emit:_,slots:c,proxy:{$q:l}}=me(),p=Ae(e,l),A=mt(i),b=u(!1),P=u(!1),g=u(!1),C=u(!1),S=o(()=>e.vertical===!0?"--v":"--h"),D=o(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),T=o(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(l.lang.rtl===!0)),w=o(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),k=o(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),f=o(()=>e.disable!==!0&&e.readonly!==!0&&w.value<k.value),M=o(()=>(String(e.step).trim().split(".")[1]||"").length),q=o(()=>e.step===0?1:e.step),W=o(()=>f.value===!0?e.tabindex||0:-1),I=o(()=>e.max-e.min),H=o(()=>k.value-w.value),O=o(()=>ee(w.value)),Y=o(()=>ee(k.value)),N=o(()=>e.vertical===!0?T.value===!0?"bottom":"top":T.value===!0?"right":"left"),K=o(()=>e.vertical===!0?"height":"width"),Z=o(()=>e.vertical===!0?"width":"height"),X=o(()=>e.vertical===!0?"vertical":"horizontal"),F=o(()=>{const t={role:"slider","aria-valuemin":w.value,"aria-valuemax":k.value,"aria-orientation":X.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),n=o(()=>`q-slider q-slider${S.value} q-slider--${b.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(f.value===!0?" q-slider--editable":""))+(g.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(p.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+S.value:""));function r(t){const s="q-slider__"+t;return`${s} ${s}${S.value} ${s}${S.value}${D.value}`}function v(t){const s="q-slider__"+t;return`${s} ${s}${S.value}`}const L=o(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),y=o(()=>v("markers")+" absolute overflow-hidden"),$=o(()=>v("track-container")),B=o(()=>r("pin")),V=o(()=>r("label")),J=o(()=>r("text-container")),Fe=o(()=>r("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),Ve=o(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),je=o(()=>{const t={[Z.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),De=o(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),fe=o(()=>{const t={[N.value]:`${100*O.value}%`,[K.value]:`${100*(Y.value-O.value)}%`};return e.innerTrackImg!==void 0&&(t.backgroundImage=`url(${e.innerTrackImg}) !important`),t});function Ie(t){const{min:s,max:m,step:h}=e;let x=s+t*(m-s);if(h>0){const E=(x-s)%h;x+=(Math.abs(E)>=h/2?(E<0?-1:1)*h:0)-E}return M.value>0&&(x=parseFloat(x.toFixed(M.value))),j(x,w.value,k.value)}function ee(t){return I.value===0?0:(t-e.min)/I.value}function Oe(t,s){const m=rt(t),h=e.vertical===!0?j((m.top-s.top)/s.height,0,1):j((m.left-s.left)/s.width,0,1);return j(T.value===!0?1-h:h,O.value,Y.value)}const be=o(()=>nt(e.markers)===!0?e.markers:q.value),he=o(()=>{const t=[],s=be.value,m=e.max;let h=e.min;do t.push(h),h+=s;while(h<m);return t.push(m),t}),ge=o(()=>{const t=` ${Te}${S.value}-`;return Te+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${T.value===!0?"rtl":"ltr"}`}),te=o(()=>e.markerLabels===!1?null:Qe(e.markerLabels).map((t,s)=>({index:s,value:t.value,label:t.label||t.value,classes:ge.value+(t.classes!==void 0?" "+t.classes:""),style:{...ye(t.value),...t.style||{}}}))),pe=o(()=>({markerList:te.value,markerMap:He.value,classes:ge.value,getStyle:ye})),Ee=o(()=>{if(H.value!==0){const t=100*be.value/H.value;return{...fe.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}}return null});function Qe(t){if(t===!1)return null;if(t===!0)return he.value.map(yt);if(typeof t=="function")return he.value.map(m=>{const h=t(m);return re(h)===!0?{...h,value:m}:{value:m,label:h}});const s=({value:m})=>m>=e.min&&m<=e.max;return Array.isArray(t)===!0?t.map(m=>re(m)===!0?m:{value:m}).filter(s):Object.keys(t).map(m=>{const h=t[m],x=Number(m);return re(h)===!0?{...h,value:x}:{value:x,label:h}}).filter(s)}function ye(t){return{[N.value]:`${100*(t-e.min)/I.value}%`}}const He=o(()=>{if(e.markerLabels===!1)return null;const t={};return te.value.forEach(s=>{t[s.value]=s}),t});function Ye(){if(c["marker-label-group"]!==void 0)return c["marker-label-group"](pe.value);const t=c["marker-label"]||kt;return te.value.map(s=>t({marker:s,...pe.value}))}const Ke=o(()=>[[ve,Ue,void 0,{[X.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ue(t){t.isFinal===!0?(C.value!==void 0&&(z(t.evt),t.touch===!0&&a(!0),C.value=void 0,_("pan","end")),b.value=!1,g.value=!1):t.isFirst===!0?(C.value=R(t.evt),z(t.evt),a(),b.value=!0,_("pan","start")):(z(t.evt),a())}function ke(){g.value=!1}function We(t){z(t,R(t)),a(),P.value=!0,b.value=!0,document.addEventListener("mouseup",le,!0)}function le(){P.value=!1,b.value=!1,a(!0),ke(),document.removeEventListener("mouseup",le,!0)}function Xe(t){z(t,R(t)),a(!0)}function Ze(t){Ne.includes(t.keyCode)&&a(!0)}function Ge(t){if(e.vertical===!0)return null;const s=l.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*s-1} * ${e.thumbSize} / 2 + ${50-100*s}%))`}}function Je(t){const s=o(()=>P.value===!1&&(g.value===t.focusValue||g.value==="both")?" q-slider--focus":""),m=o(()=>`q-slider__thumb q-slider__thumb${S.value} q-slider__thumb${S.value}-${T.value===!0?"rtl":"ltr"} absolute non-selectable`+s.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),h=o(()=>({width:e.thumbSize,height:e.thumbSize,[N.value]:`${100*t.ratio.value}%`,zIndex:g.value===t.focusValue?2:void 0})),x=o(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),E=o(()=>Ge(t.ratio.value)),ae=o(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const oe=[d("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[d("path",{d:e.thumbPath})]),d("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(oe.push(d("div",{class:B.value+" absolute fit no-pointer-events"+x.value},[d("div",{class:V.value,style:{minWidth:e.thumbSize}},[d("div",{class:J.value,style:E.value},[d("span",{class:ae.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&A(oe,"push")),d("div",{class:m.value,style:h.value,...t.getNodeData()},oe)}}function et(t,s,m,h){const x=[];e.innerTrackColor!=="transparent"&&x.push(d("div",{key:"inner",class:De.value,style:fe.value})),e.selectionColor!=="transparent"&&x.push(d("div",{key:"selection",class:L.value,style:t.value})),e.markers!==!1&&x.push(d("div",{key:"marker",class:y.value,style:Ee.value})),h(x);const E=[it("div",{key:"trackC",class:$.value,tabindex:s.value,...m.value},[d("div",{class:Ve.value,style:je.value},x)],"slide",f.value,()=>Ke.value)];if(e.markerLabels!==!1){const ae=e.switchMarkerLabelsSide===!0?"unshift":"push";E[ae](d("div",{key:"markerL",class:Fe.value},Ye()))}return E}return Le(()=>{document.removeEventListener("mouseup",le,!0)}),{state:{active:b,focus:g,preventFocus:P,dragging:C,editable:f,classes:n,tabindex:W,attributes:F,step:q,decimals:M,trackLen:I,innerMin:w,innerMinRatio:O,innerMax:k,innerMaxRatio:Y,positionProp:N,sizeProp:K,isReversed:T},methods:{onActivate:We,onMobileClick:Xe,onBlur:ke,onKeyup:Ze,getContent:et,getThumbRenderFn:Je,convertRatioToModel:Ie,convertModelToRatio:ee,getDraggingRatio:Oe}}}const zt=()=>({});var Ct=de({name:"QSlider",props:{...St,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:xt,setup(a,{emit:z}){const{proxy:{$q:R}}=me(),{state:i,methods:e}=_t({updateValue:S,updatePosition:T,getDragging:D,formAttrs:ft(a)}),_=u(null),c=u(0),l=u(0);function p(){l.value=a.modelValue===null?i.innerMin.value:j(a.modelValue,i.innerMin.value,i.innerMax.value)}ut(()=>`${a.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,p),p();const A=o(()=>e.convertModelToRatio(l.value)),b=o(()=>i.active.value===!0?c.value:A.value),P=o(()=>{const f={[i.positionProp.value]:`${100*i.innerMinRatio.value}%`,[i.sizeProp.value]:`${100*(b.value-i.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(f.backgroundImage=`url(${a.selectionImg}) !important`),f}),g=e.getThumbRenderFn({focusValue:!0,getNodeData:zt,ratio:b,label:o(()=>a.labelValue!==void 0?a.labelValue:l.value),thumbColor:o(()=>a.thumbColor||a.color),labelColor:o(()=>a.labelColor),labelTextColor:o(()=>a.labelTextColor)}),C=o(()=>i.editable.value!==!0?{}:R.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:w,onBlur:e.onBlur,onKeydown:k,onKeyup:e.onKeyup});function S(f){l.value!==a.modelValue&&z("update:modelValue",l.value),f===!0&&z("change",l.value)}function D(){return _.value.getBoundingClientRect()}function T(f,M=i.dragging.value){const q=e.getDraggingRatio(f,M);l.value=e.convertRatioToModel(q),c.value=a.snap!==!0||a.step===0?q:e.convertModelToRatio(l.value)}function w(){i.focus.value=!0}function k(f){if(!Ne.includes(f.keyCode))return;st(f);const M=([34,33].includes(f.keyCode)?10:1)*i.step.value,q=([34,37,40].includes(f.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*M;l.value=j(parseFloat((l.value+q).toFixed(i.decimals.value)),i.innerMin.value,i.innerMax.value),S()}return()=>{const f=e.getContent(P,i.tabindex,C,M=>{M.push(g())});return d("div",{ref:_,class:i.classes.value+(a.modelValue===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":a.modelValue},f)}}});const wt={class:"center flex-center x-center",style:{"min-height":"inherit"}},Mt={class:"image-stack__item image-stack__item--bottom"},qt={key:0,class:"image-stack__item image-stack__item--top"},$t={key:0,class:"center flex-center x-center q-gutter-xs row"},Tt={class:"q-pa-md"},Bt={class:"row justify-around",style:{width:"360px"}},At={class:"row justify-around",style:{width:"360px"}},Lt=Q("div",{class:"row q-pa-sm row full-width"},[Pe(" Sound Effects from\xA0"),Q("a",{href:"https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=25179"},"Pixabay")],-1),Ht={__name:"DA_RocketMan",setup(a){const z=bt(),R=!1,i=u(300),e=u(!1),_=u(!1),c=u(!1),l=u(!1),p=u(),A=u(),b=u(null),P=u(null),g=u(null),C=u(0),S=u(0),D=u(300),T=u(9e3),w=u(),k=u(!0),f=new Audio("sounds/rocket9s.m4a"),M=new Audio("sounds/success-fanfare-trumpets-6185.mp3"),q=new Audio("sounds/hq-explosion-6288.mp3"),W=new Audio("sounds/failure2.m4a");ct(()=>{console.log("mounted. initing game..."),X()});function I(){console.log("quit"),r()}function H(){console.log("stopExplosion"),r()}function O(){console.log("startLaunch"),f.volume=.4,f.play(),l.value=!0,k.value=!1}function Y(){console.log("startFall"),c.value=!0,W.volume=.4,W.play()}function N(){_.value=!0,q.volume=.4,q.play(),setTimeout(()=>H(),4e3)}function K(){console.log("fallRocket"),l.value=!1,p.value=null,A.value=null,e.value=!1,Y(),setTimeout(()=>window.requestAnimationFrame(v),1e3)}function Z(){_.value=!0,b.value.classList.add("fallover"),q.volume=.4,q.play(),setTimeout(()=>r(),2e3)}function X(){g.value.setScrollPosition("vertical",D.value)}function F(y){z.notify(y)}function n(){r();{if(O(),i.value>999){F("Too much boost!"),Z();return}setTimeout(()=>window.requestAnimationFrame(L),1e3)}}function r(){console.log("reset..."),b.value.classList.remove("fallover"),b.value.style.transform=`translateY(${0}px)`,w.value=b.value.getBoundingClientRect(),C.value=w.value.y,g.value.setScrollPosition("vertical",D.value),p.value=null,A.value=null,e.value=!1,_.value=!1,c.value=!1,l.value=!1,k.value=!0}function v(y){(p.value===void 0||!p.value)&&(p.value=y);const $=y-p.value;if(!isNaN($)){if(A.value!==y){const B=Math.min(Math.round(.1*$),i.value);if(isNaN(B))return;const V=B;D.value>200&&g.value.setScrollPosition("vertical",V),b.value.style.transform=`translateY(${B-i.value}px)`,B===i.value&&(e.value=!0,console.log("Animation done"),k.value=!0)}$<T.value?(A.value=y,e.value||window.requestAnimationFrame(v)):k.value=!0}}function L(y){if(c.value){console.log("fly method called when falling.. Ignored");return}(p.value===void 0||!p.value)&&(p.value=y);const $=y-p.value;if(isNaN($))return;if(A.value!==y){const V=Math.min(Math.round(.1*$),i.value);if(isNaN(V))return;const J=360-V;if(b.value.style.transform=`translateY(${-V}px)`,g.value.setScrollPosition("vertical",J),V>=i.value){e.value=!0,B();return}}$<T.value?(A.value=y,e.value||window.requestAnimationFrame(L)):B();function B(){C.value=b.value.getBoundingClientRect().y,S.value=b.value.getBoundingClientRect().y,console.log("finalRocketLoc: ",S.value),C.value<-20?(console.log("Went past the moon."),F("You went too far! Less boost."),setTimeout(()=>r(),2e3)):C.value>100?(console.log("Animation done - falling..."),F("Not enough juice! Add more boost."),setTimeout(()=>K(),2e3)):C.value<60?(M.volume=.4,M.play(),F("The Eagle has landed!"),k.value=!0):N()}}return(y,$)=>(G(),ie("div",wt,[U(ht,{ref_key:"scrollAreaRef",ref:g,class:"center flex-center x-center",visible:R,style:{height:"100vh"}},{default:_e(()=>[Q("div",{ref_key:"bg",ref:P,class:"x-center animation-frame"},[Q("div",{ref_key:"rocket",ref:b,class:"rocket-box image-stack"},[Q("div",Mt,[l.value?(G(),ze(ne,{key:0,width:"90px",alt:"Rocket with engines on - image",src:"images/rocket.png"})):(G(),ze(ne,{key:1,ref_key:"rocket",ref:b,class:"rocket-box",width:"90px",alt:"Rocket image",src:"images/rocket_noflame.png"},null,512))]),_.value?(G(),ie("div",qt,[U(ne,{width:"140px",alt:"animated explosion",src:"images/explosion.gif"})])):se("",!0)],512),se("",!0)],512)]),_:1},512),k.value?(G(),ie("div",$t,[Q("div",Tt,[U(pt,{class:"q-pa-sm",color:"pink"},{default:_e(()=>[Pe(" Boost: "+vt(i.value)+" (100 to 1500) ",1)]),_:1}),Q("div",Bt,[U(Ct,{modelValue:i.value,"onUpdate:modelValue":$[0]||($[0]=B=>i.value=B),color:"red",min:100,max:1500,label:"","switch-label-side":"","label-always":""},null,8,["modelValue"])])]),Q("div",At,[U(ue,{label:"Launch",icon:"rocket",color:"primary",onClick:n}),U(ue,{label:"Reset",icon:"clear",color:"secondary",onClick:r}),U(ue,{style:{"max-width":"100px"},label:"Quit",color:"orange",onClick:I,to:"/"})]),Lt])):se("",!0)]))}};export{Ht as default};
