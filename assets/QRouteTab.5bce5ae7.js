import{a as P,r as v,c as i,j as S,o as $,aI as Q,l as B,al as L,h as s,a1 as M,az as K,n as N,Q as k,Z as j,g as D,f as W,u as A,a0 as O,w as z}from"./index.4d31a4bc.js";let E=0;const F=["click","keydown"],U={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${E++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Z(e,c,r,l){const a=P(Q,()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")}),{proxy:b}=D(),d=v(null),f=v(null),C=v(null),R=i(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),g=i(()=>a.currentModel.value===e.name),q=i(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(g.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(l!==void 0&&l.linkClass.value!==""?` ${l.linkClass.value}`:"")),_=i(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),x=i(()=>e.disable===!0||a.hasFocus.value===!0?-1:e.tabindex||0);function m(t,n){if(n!==!0&&d.value!==null&&d.value.focus(),e.disable!==!0){let o;if(l!==void 0)if(l.hasRouterLink.value===!0)o=()=>{t.__qNavigate=!0,a.avoidRouteWatcher=!0;const u=l.navigateToRouterLink(t);u===!1?a.avoidRouteWatcher=!1:u.then(I=>{a.avoidRouteWatcher=!1,I===void 0&&a.updateModel({name:e.name,fromRoute:!0})})};else{r("click",t);return}else o=()=>{a.updateModel({name:e.name,fromRoute:!1})};r("click",t,o),t.defaultPrevented!==!0&&o()}}function y(t){M(t,[13,32])?m(t,!0):K(t)!==!0&&t.keyCode>=35&&t.keyCode<=40&&a.onKbdNavigate(t.keyCode,b.$el)===!0&&N(t),r("keydown",t)}function T(){const t=a.tabProps.value.narrowIndicator,n=[],o=s("div",{ref:C,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&n.push(s(k,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&n.push(s("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&n.push(e.alertIcon!==void 0?s(k,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):s("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),t===!0&&n.push(o);const u=[s("div",{class:"q-focus-helper",tabindex:-1,ref:d}),s("div",{class:_.value},j(c.default,n))];return t===!1&&u.push(o),u}const h={name:i(()=>e.name),rootRef:f,tabIndicatorRef:C,routerProps:l};S(()=>{a.unregisterTab(h),a.recalculateScroll()}),$(()=>{a.registerTab(h),a.recalculateScroll()});function w(t,n){const o={ref:f,class:q.value,tabindex:x.value,role:"tab","aria-selected":g.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:m,onKeydown:y,...n};return B(s(t,o,T()),[[L,R.value]])}return{renderTab:w,$tabs:a}}var H=W({name:"QRouteTab",props:{...A,...U},emits:F,setup(e,{slots:c,emit:r}){const l=O(),{renderTab:a,$tabs:b}=Z(e,c,r,{exact:i(()=>e.exact),...l});return z(()=>e.name+e.exact+(l.linkRoute.value||{}).href,()=>{b.verifyRouteModel()}),()=>a(l.linkTag.value,l.linkProps.value)}});export{H as Q};
