import{E as m,r as g,a as s,o as S,J as B,H as K,d as A,am as M,h as r,aI as j,f as y,a2 as E,aA as N,Q as P,$ as W,g as F,az as O,c as z,u as H,a1 as J,w as U}from"./index.2b580301.js";import{u as G}from"./uid.42677368.js";let V=0;const X=["click","keydown"],Y={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${V++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Z(e,b,u,n){const a=K(j,m);if(a===m)return console.error("QTab/QRouteTab component needs to be child of QTabs"),m;const{proxy:v}=F(),f=g(null),C=g(null),k=g(null),x=s(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),h=s(()=>a.currentModel.value===e.name),T=s(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(h.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(n!==void 0?n.linkClass.value:"")),_=s(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),$=s(()=>e.disable===!0||a.hasFocus.value===!0||h.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function R(t,l){if(l!==!0&&f.value!==null&&f.value.focus(),e.disable===!0){n!==void 0&&n.hasRouterLink.value===!0&&y(t);return}if(n===void 0){a.updateModel({name:e.name}),u("click",t);return}if(n.hasRouterLink.value===!0){const o=(i={})=>{let d;const Q=i.to===void 0||O(i.to,e.to)===!0?a.avoidRouteWatcher=G():null;return n.navigateToRouterLink(t,{...i,returnRouterError:!0}).catch(c=>{d=c}).then(c=>{if(Q===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,d===void 0&&(c===void 0||c.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:e.name})),i.returnRouterError===!0)return d!==void 0?Promise.reject(d):c})};u("click",t,o),t.defaultPrevented!==!0&&o();return}u("click",t)}function I(t){E(t,[13,32])?R(t,!0):N(t)!==!0&&t.keyCode>=35&&t.keyCode<=40&&t.altKey!==!0&&t.metaKey!==!0&&a.onKbdNavigate(t.keyCode,v.$el)===!0&&y(t),u("keydown",t)}function w(){const t=a.tabProps.value.narrowIndicator,l=[],o=r("div",{ref:k,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&l.push(r(P,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&l.push(r("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&l.push(e.alertIcon!==void 0?r(P,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):r("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),t===!0&&l.push(o);const i=[r("div",{class:"q-focus-helper",tabindex:-1,ref:f}),r("div",{class:_.value},W(b.default,l))];return t===!1&&i.push(o),i}const q={name:s(()=>e.name),rootRef:C,tabIndicatorRef:k,routeData:n};S(()=>{a.unregisterTab(q)}),B(()=>{a.registerTab(q)});function L(t,l){const o={ref:C,class:T.value,tabindex:$.value,role:"tab","aria-selected":h.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:R,onKeydown:I,...l};return A(r(t,o,w()),[[M,x.value]])}return{renderTab:L,$tabs:a}}var ee=z({name:"QRouteTab",props:{...H,...Y},emits:X,setup(e,{slots:b,emit:u}){const n=J({useDisableForRouterLinkProps:!1}),{renderTab:a,$tabs:v}=Z(e,b,u,{exact:s(()=>e.exact),...n});return U(()=>`${e.name} | ${e.exact} | ${(n.resolvedLink.value||{}).href}`,()=>{v.verifyRouteModel()}),()=>a(n.linkTag.value,n.linkAttrs.value)}});export{ee as Q};
