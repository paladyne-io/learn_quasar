import{Q as ie}from"./QImg.dca950fe.js";import{u as Le,a as Re}from"./use-dark.e7b8f4a0.js";import{Q as _e,a as lt}from"./QScrollObserver.88303bb2.js";import{T as de}from"./TouchPan.7cf724d9.js";import{f as me,r as u,c as o,aj as at,al as ot,am as nt,j as Pe,h as d,Z as Ne,l as xe,g as fe,az as rt,aB as ue,a8 as it,N as ut,w as st,n as ct,o as vt,q as Z,E as J,d as U,x as ze,D as O,C as se,y as Ce,z as ee,t as we,A as ce}from"./index.3225310d.js";import{b as j}from"./format.a33550d6.js";import{s as qe,d as Me}from"./scroll.7d26dd1a.js";import{u as dt,b as mt,c as ft}from"./use-form.d7a5b228.js";import{u as bt}from"./use-quasar.19156945.js";import"./touch.70a9dd44.js";import"./selection.db37f9a9.js";const $e=["vertical","horizontal"],ve={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Be={prevent:!0,mouse:!0,mouseAllDir:!0},Te=a=>a>=250?50:Math.ceil(a/5);var ht=me({name:"QScrollArea",props:{...Le,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(a,{slots:z,emit:R}){const i=u(!1),e=u(!1),x=u(!1),c={vertical:u(0),horizontal:u(0)},l={vertical:{ref:u(null),position:u(0),size:u(0)},horizontal:{ref:u(null),position:u(0),size:u(0)}},p=fe(),A=Re(a,p.proxy.$q);let b,P;const g=u(null),C=o(()=>"q-scrollarea"+(A.value===!0?" q-scrollarea--dark":""));l.vertical.percentage=o(()=>{const n=l.vertical.size.value-c.vertical.value;if(n<=0)return 0;const r=j(l.vertical.position.value/n,0,1);return Math.round(r*1e4)/1e4}),l.vertical.thumbHidden=o(()=>(a.visible===null?x.value:a.visible)!==!0&&i.value===!1&&e.value===!1||l.vertical.size.value<=c.vertical.value+1),l.vertical.thumbStart=o(()=>l.vertical.percentage.value*(c.vertical.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=o(()=>Math.round(j(c.vertical.value*c.vertical.value/l.vertical.size.value,Te(c.vertical.value),c.vertical.value))),l.vertical.style=o(()=>({...a.thumbStyle,...a.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`})),l.vertical.thumbClass=o(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=o(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=o(()=>{const n=l.horizontal.size.value-c.horizontal.value;if(n<=0)return 0;const r=j(l.horizontal.position.value/n,0,1);return Math.round(r*1e4)/1e4}),l.horizontal.thumbHidden=o(()=>(a.visible===null?x.value:a.visible)!==!0&&i.value===!1&&e.value===!1||l.horizontal.size.value<=c.horizontal.value+1),l.horizontal.thumbStart=o(()=>l.horizontal.percentage.value*(c.horizontal.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=o(()=>Math.round(j(c.horizontal.value*c.horizontal.value/l.horizontal.size.value,Te(c.horizontal.value),c.horizontal.value))),l.horizontal.style=o(()=>({...a.thumbStyle,...a.horizontalThumbStyle,left:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`})),l.horizontal.thumbClass=o(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=o(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const S=o(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?a.contentStyle:a.contentActiveStyle),D=[[de,n=>{I(n,"vertical")},void 0,{vertical:!0,...Be}]],B=[[de,n=>{I(n,"horizontal")},void 0,{horizontal:!0,...Be}]];function w(){const n={};return $e.forEach(r=>{const v=l[r];n[r+"Position"]=v.position.value,n[r+"Percentage"]=v.percentage.value,n[r+"Size"]=v.size.value,n[r+"ContainerSize"]=c[r].value}),n}const k=at(()=>{const n=w();n.ref=p.proxy,R("scroll",n)},0);function f(n,r,v){if($e.includes(n)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(n==="vertical"?qe:Me)(g.value,r,v)}function q({height:n,width:r}){let v=!1;c.vertical.value!==n&&(c.vertical.value=n,v=!0),c.horizontal.value!==r&&(c.horizontal.value=r,v=!0),v===!0&&N()}function M({position:n}){let r=!1;l.vertical.position.value!==n.top&&(l.vertical.position.value=n.top,r=!0),l.horizontal.position.value!==n.left&&(l.horizontal.position.value=n.left,r=!0),r===!0&&N()}function W({height:n,width:r}){l.horizontal.size.value!==r&&(l.horizontal.size.value=r,N()),l.vertical.size.value!==n&&(l.vertical.size.value=n,N())}function I(n,r){const v=l[r];if(n.isFirst===!0){if(v.thumbHidden.value===!0)return;P=v.position.value,e.value=!0}else if(e.value!==!0)return;n.isFinal===!0&&(e.value=!1);const L=ve[r],y=c[r].value,$=(v.size.value-y)/(y-v.thumbSize.value),T=n.distance[L.dist],V=P+(n.direction===L.dir?1:-1)*T*$;K(V,r)}function H(n,r){const v=l[r];if(v.thumbHidden.value!==!0){const L=n[ve[r].offset];if(L<v.thumbStart.value||L>v.thumbStart.value+v.thumbSize.value){const y=L-v.thumbSize.value/2;K(y/c[r].value*v.size.value,r)}v.ref.value!==null&&v.ref.value.dispatchEvent(new MouseEvent(n.type,n))}}function E(n){H(n,"vertical")}function Y(n){H(n,"horizontal")}function N(){i.value===!0?clearTimeout(b):i.value=!0,b=setTimeout(()=>{i.value=!1},a.delay),a.onScroll!==void 0&&k()}function K(n,r){g.value[ve[r].scroll]=n}function G(){x.value=!0}function X(){x.value=!1}Object.assign(p.proxy,{getScrollTarget:()=>g.value,getScroll:w,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:f,setScrollPercentage(n,r,v){f(n,r*(l[n].size.value-c[n].value),v)}});let F=null;return ot(()=>{F={top:l.vertical.position.value,left:l.horizontal.position.value}}),nt(()=>{if(F===null)return;const n=g.value;n!==null&&(Me(n,F.left),qe(n,F.top))}),Pe(k.cancel),()=>d("div",{class:C.value,onMouseenter:G,onMouseleave:X},[d("div",{ref:g,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:a.tabindex!==void 0?a.tabindex:void 0},[d("div",{class:"q-scrollarea__content absolute",style:S.value},Ne(z.default,[d(_e,{debounce:0,onResize:W})])),d(lt,{axis:"both",onScroll:M})]),d(_e,{debounce:0,onResize:q}),d("div",{class:l.vertical.barClass.value,style:[a.barStyle,a.verticalBarStyle],"aria-hidden":"true",onMousedown:E}),d("div",{class:l.horizontal.barClass.value,style:[a.barStyle,a.horizontalBarStyle],"aria-hidden":"true",onMousedown:Y}),xe(d("div",{ref:l.vertical.ref,class:l.vertical.thumbClass.value,style:l.vertical.style.value,"aria-hidden":"true"}),D),xe(d("div",{ref:l.horizontal.ref,class:l.horizontal.thumbClass.value,style:l.horizontal.style.value,"aria-hidden":"true"}),B)])}});const gt=["top","middle","bottom"];var pt=me({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:a=>gt.includes(a)}},setup(a,{slots:z}){const R=o(()=>a.align!==void 0?{verticalAlign:a.align}:null),i=o(()=>{const e=a.outline===!0&&a.color||a.textColor;return`q-badge flex inline items-center no-wrap q-badge--${a.multiLine===!0?"multi":"single"}-line`+(a.outline===!0?" q-badge--outline":a.color!==void 0?` bg-${a.color}`:"")+(e!==void 0?` text-${e}`:"")+(a.floating===!0?" q-badge--floating":"")+(a.rounded===!0?" q-badge--rounded":"")+(a.transparent===!0?" q-badge--transparent":"")});return()=>d("div",{class:i.value,style:R.value,role:"alert","aria-label":a.label},Ne(z.default,a.label!==void 0?[a.label]:[]))}});const Ae="q-slider__marker-labels",yt=a=>({value:a}),kt=({marker:a})=>d("div",{key:a.value,style:a.style,class:a.classes},a.label),Fe=[34,37,40,33,39,38],St={...Le,...dt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},_t=["pan","update:modelValue","change"];function xt({updateValue:a,updatePosition:z,getDragging:R,formAttrs:i}){const{props:e,emit:x,slots:c,proxy:{$q:l}}=fe(),p=Re(e,l),A=mt(i),b=u(!1),P=u(!1),g=u(!1),C=u(!1),S=o(()=>e.vertical===!0?"--v":"--h"),D=o(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),B=o(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(l.lang.rtl===!0)),w=o(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),k=o(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),f=o(()=>e.disable!==!0&&e.readonly!==!0&&w.value<k.value),q=o(()=>(String(e.step).trim().split(".")[1]||"").length),M=o(()=>e.step===0?1:e.step),W=o(()=>f.value===!0?e.tabindex||0:-1),I=o(()=>e.max-e.min),H=o(()=>k.value-w.value),E=o(()=>le(w.value)),Y=o(()=>le(k.value)),N=o(()=>e.vertical===!0?B.value===!0?"bottom":"top":B.value===!0?"right":"left"),K=o(()=>e.vertical===!0?"height":"width"),G=o(()=>e.vertical===!0?"width":"height"),X=o(()=>e.vertical===!0?"vertical":"horizontal"),F=o(()=>{const t={role:"slider","aria-valuemin":w.value,"aria-valuemax":k.value,"aria-orientation":X.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),n=o(()=>`q-slider q-slider${S.value} q-slider--${b.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(f.value===!0?" q-slider--editable":""))+(g.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(p.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+S.value:""));function r(t){const s="q-slider__"+t;return`${s} ${s}${S.value} ${s}${S.value}${D.value}`}function v(t){const s="q-slider__"+t;return`${s} ${s}${S.value}`}const L=o(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),y=o(()=>v("markers")+" absolute overflow-hidden"),$=o(()=>v("track-container")),T=o(()=>r("pin")),V=o(()=>r("label")),te=o(()=>r("text-container")),Ve=o(()=>r("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),je=o(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),De=o(()=>{const t={[G.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),Ie=o(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),be=o(()=>{const t={[N.value]:`${100*E.value}%`,[K.value]:`${100*(Y.value-E.value)}%`};return e.innerTrackImg!==void 0&&(t.backgroundImage=`url(${e.innerTrackImg}) !important`),t});function Oe(t){const{min:s,max:m,step:h}=e;let _=s+t*(m-s);if(h>0){const Q=(_-s)%h;_+=(Math.abs(Q)>=h/2?(Q<0?-1:1)*h:0)-Q}return q.value>0&&(_=parseFloat(_.toFixed(q.value))),j(_,w.value,k.value)}function le(t){return I.value===0?0:(t-e.min)/I.value}function Ee(t,s){const m=it(t),h=e.vertical===!0?j((m.top-s.top)/s.height,0,1):j((m.left-s.left)/s.width,0,1);return j(B.value===!0?1-h:h,E.value,Y.value)}const he=o(()=>rt(e.markers)===!0?e.markers:M.value),ge=o(()=>{const t=[],s=he.value,m=e.max;let h=e.min;do t.push(h),h+=s;while(h<m);return t.push(m),t}),pe=o(()=>{const t=` ${Ae}${S.value}-`;return Ae+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${B.value===!0?"rtl":"ltr"}`}),ae=o(()=>e.markerLabels===!1?null:He(e.markerLabels).map((t,s)=>({index:s,value:t.value,label:t.label||t.value,classes:pe.value+(t.classes!==void 0?" "+t.classes:""),style:{...ke(t.value),...t.style||{}}}))),ye=o(()=>({markerList:ae.value,markerMap:Ye.value,classes:pe.value,getStyle:ke})),Qe=o(()=>{if(H.value!==0){const t=100*he.value/H.value;return{...be.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}}return null});function He(t){if(t===!1)return null;if(t===!0)return ge.value.map(yt);if(typeof t=="function")return ge.value.map(m=>{const h=t(m);return ue(h)===!0?{...h,value:m}:{value:m,label:h}});const s=({value:m})=>m>=e.min&&m<=e.max;return Array.isArray(t)===!0?t.map(m=>ue(m)===!0?m:{value:m}).filter(s):Object.keys(t).map(m=>{const h=t[m],_=Number(m);return ue(h)===!0?{...h,value:_}:{value:_,label:h}}).filter(s)}function ke(t){return{[N.value]:`${100*(t-e.min)/I.value}%`}}const Ye=o(()=>{if(e.markerLabels===!1)return null;const t={};return ae.value.forEach(s=>{t[s.value]=s}),t});function Ke(){if(c["marker-label-group"]!==void 0)return c["marker-label-group"](ye.value);const t=c["marker-label"]||kt;return ae.value.map(s=>t({marker:s,...ye.value}))}const Ue=o(()=>[[de,We,void 0,{[X.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function We(t){t.isFinal===!0?(C.value!==void 0&&(z(t.evt),t.touch===!0&&a(!0),C.value=void 0,x("pan","end")),b.value=!1,g.value=!1):t.isFirst===!0?(C.value=R(t.evt),z(t.evt),a(),b.value=!0,x("pan","start")):(z(t.evt),a())}function Se(){g.value=!1}function Xe(t){z(t,R(t)),a(),P.value=!0,b.value=!0,document.addEventListener("mouseup",oe,!0)}function oe(){P.value=!1,b.value=!1,a(!0),Se(),document.removeEventListener("mouseup",oe,!0)}function Ze(t){z(t,R(t)),a(!0)}function Ge(t){Fe.includes(t.keyCode)&&a(!0)}function Je(t){if(e.vertical===!0)return null;const s=l.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*s-1} * ${e.thumbSize} / 2 + ${50-100*s}%))`}}function et(t){const s=o(()=>P.value===!1&&(g.value===t.focusValue||g.value==="both")?" q-slider--focus":""),m=o(()=>`q-slider__thumb q-slider__thumb${S.value} q-slider__thumb${S.value}-${B.value===!0?"rtl":"ltr"} absolute non-selectable`+s.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),h=o(()=>({width:e.thumbSize,height:e.thumbSize,[N.value]:`${100*t.ratio.value}%`,zIndex:g.value===t.focusValue?2:void 0})),_=o(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),Q=o(()=>Je(t.ratio.value)),ne=o(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const re=[d("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[d("path",{d:e.thumbPath})]),d("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(re.push(d("div",{class:T.value+" absolute fit no-pointer-events"+_.value},[d("div",{class:V.value,style:{minWidth:e.thumbSize}},[d("div",{class:te.value,style:Q.value},[d("span",{class:ne.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&A(re,"push")),d("div",{class:m.value,style:h.value,...t.getNodeData()},re)}}function tt(t,s,m,h){const _=[];e.innerTrackColor!=="transparent"&&_.push(d("div",{key:"inner",class:Ie.value,style:be.value})),e.selectionColor!=="transparent"&&_.push(d("div",{key:"selection",class:L.value,style:t.value})),e.markers!==!1&&_.push(d("div",{key:"marker",class:y.value,style:Qe.value})),h(_);const Q=[ut("div",{key:"trackC",class:$.value,tabindex:s.value,...m.value},[d("div",{class:je.value,style:De.value},_)],"slide",f.value,()=>Ue.value)];if(e.markerLabels!==!1){const ne=e.switchMarkerLabelsSide===!0?"unshift":"push";Q[ne](d("div",{key:"markerL",class:Ve.value},Ke()))}return Q}return Pe(()=>{document.removeEventListener("mouseup",oe,!0)}),{state:{active:b,focus:g,preventFocus:P,dragging:C,editable:f,classes:n,tabindex:W,attributes:F,step:M,decimals:q,trackLen:I,innerMin:w,innerMinRatio:E,innerMax:k,innerMaxRatio:Y,positionProp:N,sizeProp:K,isReversed:B},methods:{onActivate:Xe,onMobileClick:Ze,onBlur:Se,onKeyup:Ge,getContent:tt,getThumbRenderFn:et,convertRatioToModel:Oe,convertModelToRatio:le,getDraggingRatio:Ee}}}const zt=()=>({});var Ct=me({name:"QSlider",props:{...St,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:_t,setup(a,{emit:z}){const{proxy:{$q:R}}=fe(),{state:i,methods:e}=xt({updateValue:S,updatePosition:B,getDragging:D,formAttrs:ft(a)}),x=u(null),c=u(0),l=u(0);function p(){l.value=a.modelValue===null?i.innerMin.value:j(a.modelValue,i.innerMin.value,i.innerMax.value)}st(()=>`${a.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,p),p();const A=o(()=>e.convertModelToRatio(l.value)),b=o(()=>i.active.value===!0?c.value:A.value),P=o(()=>{const f={[i.positionProp.value]:`${100*i.innerMinRatio.value}%`,[i.sizeProp.value]:`${100*(b.value-i.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(f.backgroundImage=`url(${a.selectionImg}) !important`),f}),g=e.getThumbRenderFn({focusValue:!0,getNodeData:zt,ratio:b,label:o(()=>a.labelValue!==void 0?a.labelValue:l.value),thumbColor:o(()=>a.thumbColor||a.color),labelColor:o(()=>a.labelColor),labelTextColor:o(()=>a.labelTextColor)}),C=o(()=>i.editable.value!==!0?{}:R.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:w,onBlur:e.onBlur,onKeydown:k,onKeyup:e.onKeyup});function S(f){l.value!==a.modelValue&&z("update:modelValue",l.value),f===!0&&z("change",l.value)}function D(){return x.value.getBoundingClientRect()}function B(f,q=i.dragging.value){const M=e.getDraggingRatio(f,q);l.value=e.convertRatioToModel(M),c.value=a.snap!==!0||a.step===0?M:e.convertModelToRatio(l.value)}function w(){i.focus.value=!0}function k(f){if(!Fe.includes(f.keyCode))return;ct(f);const q=([34,33].includes(f.keyCode)?10:1)*i.step.value,M=([34,37,40].includes(f.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*q;l.value=j(parseFloat((l.value+M).toFixed(i.decimals.value)),i.innerMin.value,i.innerMax.value),S()}return()=>{const f=e.getContent(P,i.tabindex,C,q=>{q.push(g())});return d("div",{ref:x,class:i.classes.value+(a.modelValue===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":a.modelValue},f)}}});const wt={class:"center flex-center x-center",style:{"min-height":"inherit"}},qt={class:"image-stack__item image-stack__item--bottom"},Mt={key:0,class:"image-stack__item image-stack__item--top"},$t={key:0,class:"text-white q-pa-sm row full-width"},Bt=O("br",null,null,-1),Tt={key:0,class:"center flex-center x-center q-gutter-xs row"},At={class:"q-pa-md"},Lt={class:"row justify-around",style:{width:"360px"}},Rt={class:"row justify-around",style:{width:"360px"}},Pt=O("div",{class:"row q-pa-sm row full-width"},[ee(" Sound Effects from\xA0"),O("a",{href:"https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=25179"},"Pixabay")],-1),Kt={__name:"DA_RocketMan",setup(a){const z=bt(),R=!1,i=u(300),e=u(!1),x=u(!1),c=u(!1),l=u(!1),p=u(),A=u(),b=u(null),P=u(null),g=u(null),C=u(0),S=u(0),D=u(300),B=u(9e3),w=u(),k=u(!0),f=new Audio("sounds/rocket9s.m4a"),q=new Audio("sounds/success-fanfare-trumpets-6185.mp3"),M=new Audio("sounds/hq-explosion-6288.mp3"),W=new Audio("sounds/failure2.m4a");vt(()=>{console.log("mounted. initing game..."),X()});function I(){console.log("quit"),r()}function H(){console.log("stopExplosion"),r()}function E(){console.log("startLaunch"),f.volume=.4,f.play(),l.value=!0,k.value=!1}function Y(){console.log("startFall"),c.value=!0,W.volume=.4,W.play()}function N(){console.log("Explode"),x.value=!0,M.volume=.4,M.play(),setTimeout(()=>H(),4e3)}function K(){console.log("fallRocket"),l.value=!1,p.value=null,A.value=null,e.value=!1,Y(),setTimeout(()=>window.requestAnimationFrame(v),1e3)}function G(){x.value=!0,console.log("fallOverRocket..."),b.value.classList.add("fallover"),M.volume=.4,M.play(),setTimeout(()=>r(),2e3)}function X(){g.value.setScrollPosition("vertical",D.value)}function F(y){z.notify(y)}function n(){r();{if(E(),i.value>999){F("Too much boost!"),G();return}setTimeout(()=>window.requestAnimationFrame(L),1e3)}}function r(){console.log("reset..."),b.value.classList.remove("fallover"),b.value.style.transform=`translateY(${0}px)`,w.value=b.value.getBoundingClientRect(),C.value=w.value.y,g.value.setScrollPosition("vertical",D.value),p.value=null,A.value=null,e.value=!1,x.value=!1,c.value=!1,l.value=!1,k.value=!0}function v(y){(p.value===void 0||!p.value)&&(p.value=y);const $=y-p.value;if(!isNaN($)){if(A.value!==y){const T=Math.min(Math.round(.1*$),i.value);if(isNaN(T))return;const V=T;D.value>200&&g.value.setScrollPosition("vertical",V),b.value.style.transform=`translateY(${T-i.value}px)`,T===i.value&&(e.value=!0,console.log("Animation done"),k.value=!0)}$<B.value?(A.value=y,e.value||window.requestAnimationFrame(v)):k.value=!0}}function L(y){if(c.value){console.log("fly method called when falling.. Ignored");return}(p.value===void 0||!p.value)&&(p.value=y);const $=y-p.value;if(isNaN($))return;if(A.value!==y){const V=Math.min(Math.round(.1*$),i.value);if(isNaN(V))return;const te=360-V;if(b.value.style.transform=`translateY(${-V}px)`,g.value.setScrollPosition("vertical",te),V>=i.value){e.value=!0,T();return}}$<B.value?(A.value=y,e.value||window.requestAnimationFrame(L)):T();function T(){C.value=b.value.getBoundingClientRect().y,S.value=b.value.getBoundingClientRect().y,console.log("finalRocketLoc: ",S.value),C.value<-20?(console.log("Went past the moon."),F("You went too far! Less boost."),setTimeout(()=>r(),2e3)):C.value>100?(console.log("Animation done - falling..."),F("Not enough juice! Add more boost."),setTimeout(()=>K(),2e3)):C.value<60?(q.volume=.4,q.play(),F("The Eagle has landed!"),k.value=!0):N()}}return(y,$)=>(Z(),J("div",wt,[U(ht,{ref_key:"scrollAreaRef",ref:g,class:"center flex-center x-center",visible:R,style:{height:"100vh"}},{default:ze(()=>[O("div",{ref_key:"bg",ref:P,class:"x-center animation-frame"},[O("div",{ref_key:"rocket",ref:b,class:"rocket-box image-stack"},[O("div",qt,[l.value?(Z(),we(ie,{key:0,width:"90px",alt:"Rocket with engines on - image",src:"images/rocket.png"})):(Z(),we(ie,{key:1,ref_key:"rocket",ref:b,class:"rocket-box",width:"90px",alt:"Rocket image",src:"images/rocket_noflame.png"},null,512))]),x.value?(Z(),J("div",Mt,[U(ie,{width:"140px",alt:"animated explosion",src:"images/explosion.gif"})])):Ce("",!0)],512),(Z(),J("div",$t,[ee(" Rocket loc: "+ce(S.value)+" px ",1),Bt,ee(" Boost: "+ce(i.value),1)]))],512)]),_:1},512),k.value?(Z(),J("div",Tt,[O("div",At,[U(pt,{class:"q-pa-sm",color:"pink"},{default:ze(()=>[ee(" Boost: "+ce(i.value)+" (100 to 1500) ",1)]),_:1}),O("div",Lt,[U(Ct,{modelValue:i.value,"onUpdate:modelValue":$[0]||($[0]=T=>i.value=T),color:"red",min:100,max:1500,label:"","switch-label-side":"","label-always":""},null,8,["modelValue"])])]),O("div",Rt,[U(se,{label:"Launch",icon:"rocket",color:"primary",onClick:n}),U(se,{label:"Reset",icon:"clear",color:"secondary",onClick:r}),U(se,{style:{"max-width":"100px"},label:"Quit",color:"orange",onClick:I,to:"/"})]),Pt])):Ce("",!0)]))}};export{Kt as default};
