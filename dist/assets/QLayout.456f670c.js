import{j as x,R as E,S as w,a1 as L,B as l,l as r,H as K,D as P,V as Q,a2 as O,y as u,a3 as D,a4 as S,a5 as g,C as I,a6 as M,a7 as U}from"./index.d0600fff.js";import{a as V,Q as R}from"./QScrollObserver.94482cca.js";var A=x({name:"QPageContainer",setup(t,{slots:y}){const{proxy:{$q:c}}=P(),n=E(Q,w);if(n===w)return console.error("QPageContainer needs to be child of QLayout"),w;L(O,!0);const d=l(()=>{const i={};return n.header.space===!0&&(i.paddingTop=`${n.header.size}px`),n.right.space===!0&&(i[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(i.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(i[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),i});return()=>r("div",{class:"q-page-container",style:d.value},K(y.default))}}),G=x({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:y,emit:c}){const{proxy:{$q:n}}=P(),d=u(null),i=u(n.screen.height),m=u(t.container===!0?0:n.screen.width),z=u({position:0,direction:"down",inflectionPoint:0}),v=u(0),a=u(D.value===!0?0:S()),q=l(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),H=l(()=>t.container===!1?{minHeight:n.screen.height+"px"}:null),T=l(()=>a.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),W=l(()=>a.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function F(e){if(t.container===!0||document.qScrollPrevented!==!0){const o={position:e.position.top,direction:e.direction,directionChanged:e.directionChanged,inflectionPoint:e.inflectionPoint.top,delta:e.delta.top};z.value=o,t.onScroll!==void 0&&c("scroll",o)}}function B(e){const{height:o,width:s}=e;let f=!1;i.value!==o&&(f=!0,i.value=o,t.onScrollHeight!==void 0&&c("scrollHeight",o),b()),m.value!==s&&(f=!0,m.value=s),f===!0&&t.onResize!==void 0&&c("resize",e)}function j({height:e}){v.value!==e&&(v.value=e,b())}function b(){if(t.container===!0){const e=i.value>v.value?S():0;a.value!==e&&(a.value=e)}}let h;const $={instances:{},view:l(()=>t.view),isContainer:l(()=>t.container),rootRef:d,height:i,containerHeight:v,scrollbarWidth:a,totalWidth:l(()=>m.value+a.value),rows:l(()=>{const e=t.view.toLowerCase().split(" ");return{top:e[0].split(""),middle:e[1].split(""),bottom:e[2].split("")}}),header:g({size:0,offset:0,space:!1}),right:g({size:300,offset:0,space:!1}),footer:g({size:0,offset:0,space:!1}),left:g({size:300,offset:0,space:!1}),scroll:z,animate(){h!==void 0?clearTimeout(h):document.body.classList.add("q-body--layout-animate"),h=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),h=void 0},155)},update(e,o,s){$[e][o]=s}};if(L(Q,$),S()>0){let s=function(){e=null,o.classList.remove("hide-scrollbar")},f=function(){if(e===null){if(o.scrollHeight>n.screen.height)return;o.classList.add("hide-scrollbar")}else clearTimeout(e);e=setTimeout(s,300)},p=function(C){e!==null&&C==="remove"&&(clearTimeout(e),s()),window[`${C}EventListener`]("resize",f)},e=null;const o=document.body;I(()=>t.container!==!0?"add":"remove",p),t.container!==!0&&p("add"),M(()=>{p("remove")})}return()=>{const e=U(y.default,[r(V,{onScroll:F}),r(R,{onResize:B})]),o=r("div",{class:q.value,style:H.value,ref:t.container===!0?void 0:d,tabindex:-1},e);return t.container===!0?r("div",{class:"q-layout-container overflow-hidden",ref:d},[r(R,{onResize:j}),r("div",{class:"absolute-full",style:T.value},[r("div",{class:"scroll",style:W.value},[o])])]):o}}});export{G as Q,A as a};
