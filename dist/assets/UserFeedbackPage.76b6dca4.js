import{Q as c}from"./QInput.9c4eb924.js";import{a as g}from"./QBtn.39089b80.js";import{K as y,r as d,_,L as f,V as v,U as l,a2 as I,d as p,F as w,M,S}from"./index.3169dcb5.js";import"./QSpinner.1ab661f4.js";import"./use-router-link.8d6b058b.js";import"./use-dark.4e9a4c25.js";import"./format.e5fda044.js";const i={_origin:"https://api.emailjs.com"},L=(e,s="https://api.emailjs.com")=>{i._userID=e,i._origin=s},E=(e,s,t)=>{if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class u{constructor(s){this.status=s.status,this.text=s.responseText}}const h=(e,s,t={})=>new Promise((n,r)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:o})=>{const m=new u(o);m.status===200||m.text==="OK"?n(m):r(m)}),a.addEventListener("error",({target:o})=>{r(new u(o))}),a.open("POST",i._origin+e,!0),Object.keys(t).forEach(o=>{a.setRequestHeader(o,t[o])}),a.send(s)}),b=(e,s,t,n)=>{const r=n||i._userID;E(r,e,s);const a={lib_version:"3.6.2",user_id:r,service_id:e,template_id:s,template_params:t};return h("/api/v1.0/email/send",JSON.stringify(a),{"Content-type":"application/json"})},C=e=>{let s;if(typeof e=="string"?s=document.querySelector(e):s=e,!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return s},P=(e,s,t,n)=>{const r=n||i._userID,a=C(t);E(r,e,s);const o=new FormData(a);return o.append("lib_version","3.6.2"),o.append("service_id",e),o.append("template_id",s),o.append("user_id",r),h("/api/v1.0/email/send-form",o)};var T={init:L,send:b,sendForm:P};const V=y({name:"UserContactComponnet",setup(){const e=d(),s=d(""),t=d("");return{templateParams:d({from_name:s,message:e,reply_to:t}),newMessage:e,fromName:s,replyTo:t}},methods:{sendEmail(){if(console.log("send email..."),console.log("TEMPLATE_ID: "+{}.EMAILJS_TEMPLATE_ID),!{}.EMAILJS_PUBLIC_KEY||!{}.EMAILJS_SERVICE_ID||!{}.EMAILJS_TEMPLATE_ID){console.log("Error. One or more email service parameters was not supplied."),alert("Error. One or more email service parameters was not supplied.");return}if(!this.templateParams.message){console.log("Error. No message."),alert("Please type a message.");return}if(!this.templateParams.reply_to){console.log("Error. No reply_to email address."),alert("Please type your email address.");return}T.send({}.EMAILJS_SERVICE_ID,{}.EMAILJS_TEMPLATE_ID,this.templateParams,{}.EMAILJS_PUBLIC_KEY).then(e=>{console.log("SUCCESS!",e.text),alert("email sent")},e=>{console.log("FAILED...",e.text)})}}}),q=l("div",{"no-border":"",class:"q-pa-md",style:{"min-width":"320px"}},[l("div",{class:"q-pa-sm font-semibold"}," If you have any requests or suggestions, please email darren@paladyne.co or fill out the form below. I greatly appreciate your input and will respond to every well-intentioned message. ")],-1),U={class:"container q-pa-sm q-ma-md",style:{"background-color":"linen"}},A={class:"field"},D={class:"field"},F={class:"field"},N={class:"text-center q-pa-md full-width"};function $(e,s,t,n,r,a){return f(),v(w,null,[q,l("div",U,[l("form",{ref:"form",onSubmit:s[3]||(s[3]=I((...o)=>e.sendEmail&&e.sendEmail(...o),["prevent"]))},[l("div",A,[p(c,{autogrow:"",type:"textarea",name:"message",label:"Message:",modelValue:e.newMessage,"onUpdate:modelValue":s[0]||(s[0]=o=>e.newMessage=o)},null,8,["modelValue"])]),l("div",D,[p(c,{id:"from_name",type:"text",label:"Your name: ",modelValue:e.fromName,"onUpdate:modelValue":s[1]||(s[1]=o=>e.fromName=o),name:"from_name",placeholder:"Your Name"},null,8,["modelValue"])]),l("div",F,[p(c,{id:"reply_to",type:"email",label:"Your email address:",modelValue:e.replyTo,"onUpdate:modelValue":s[2]||(s[2]=o=>e.replyTo=o),name:"reply_to",placeholder:"Your email address"},null,8,["modelValue"])])],544)]),l("div",N,[p(g,{class:"q-ml-md",label:"Send email",size:"md",icon:"fas fa-copy",color:"green",onClick:e.sendEmail},null,8,["onClick"])])],64)}var k=_(V,[["render",$]]);const J={name:"UserFeedbackPage",components:{UserContactComp:k}};function j(e,s,t,n,r,a){const o=S("UserContactComp");return f(),M(o)}var Q=_(J,[["render",j]]);export{Q as default};
