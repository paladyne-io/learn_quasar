import{c as W,a as A,h as $,e as D,w as _,M as Y,J as z,g as q,K as B,o as Q,N as M,O as m,P as d,f as I,R as j,S as F,U as K}from"./index.213e8ce9.js";import{u as O,a as R}from"./use-dark.2efdab9f.js";import{g as J,a as N,h as G}from"./scroll.b3bbd766.js";var ie=W({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const l=A(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>$("div",{class:l.value},D(t.default))}});const se={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},ne=["beforeShow","show","beforeHide","hide"];function ae({showing:e,canShow:t,hideOnRouteChange:l,handleShow:r,handleHide:i,processOnMount:v}){const s=q(),{props:n,emit:a,proxy:L}=s;let u;function X(o){e.value===!0?h(o):S(o)}function S(o){if(n.disable===!0||o!==void 0&&o.qAnchorHandled===!0||t!==void 0&&t(o)!==!0)return;const c=n["onUpdate:modelValue"]!==void 0;c===!0&&(a("update:modelValue",!0),u=o,B(()=>{u===o&&(u=void 0)})),(n.modelValue===null||c===!1)&&V(o)}function V(o){e.value!==!0&&(e.value=!0,a("beforeShow",o),r!==void 0?r(o):a("show",o))}function h(o){if(n.disable===!0)return;const c=n["onUpdate:modelValue"]!==void 0;c===!0&&(a("update:modelValue",!1),u=o,B(()=>{u===o&&(u=void 0)})),(n.modelValue===null||c===!1)&&P(o)}function P(o){e.value!==!1&&(e.value=!1,a("beforeHide",o),i!==void 0?i(o):a("hide",o))}function E(o){n.disable===!0&&o===!0?n["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!1):o===!0!==e.value&&(o===!0?V:P)(u)}_(()=>n.modelValue,E),l!==void 0&&Y(s)===!0&&_(()=>L.$route.fullPath,()=>{l.value===!0&&e.value===!0&&h()}),v===!0&&z(()=>{E(n.modelValue)});const H={show:S,hide:h,toggle:X};return Object.assign(L,H),H}var ue=W({name:"QList",props:{...O,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const l=q(),r=R(e,l.proxy.$q),i=A(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>$(e.tag,{class:i.value},D(t.default))}});function de(e,t,l){let r;function i(){r!==void 0&&(M.remove(r),r=void 0)}return Q(()=>{e.value===!0&&i()}),{removeFromHistory:i,addToHistory(){r={condition:()=>l.value===!0,handler:t},M.add(r)}}}let p=0,b,g,w,T=!1,x,C,f;function Z(e){ee(e)&&I(e)}function ee(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=j(e),l=e.shiftKey&&!e.deltaX,r=!l&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=l||r?e.deltaY:e.deltaX;for(let v=0;v<t.length;v++){const s=t[v];if(G(s,r))return r?i<0&&s.scrollTop===0?!0:i>0&&s.scrollTop+s.clientHeight===s.scrollHeight:i<0&&s.scrollLeft===0?!0:i>0&&s.scrollLeft+s.clientWidth===s.scrollWidth}return!0}function k(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function y(e){T!==!0&&(T=!0,requestAnimationFrame(()=>{T=!1;const{height:t}=e.target,{clientHeight:l,scrollTop:r}=document.scrollingElement;(w===void 0||t!==window.innerHeight)&&(w=l-t,document.scrollingElement.scrollTop=r),r>w&&(document.scrollingElement.scrollTop-=Math.ceil((r-w)/8))}))}function U(e){const t=document.body,l=window.visualViewport!==void 0;if(e==="add"){const{overflowY:r,overflowX:i}=window.getComputedStyle(t);b=J(window),g=N(window),x=t.style.left,C=t.style.top,t.style.left=`-${b}px`,t.style.top=`-${g}px`,i!=="hidden"&&(i==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),r!=="hidden"&&(r==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,m.is.ios===!0&&(l===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",y,d.passiveCapture),window.visualViewport.addEventListener("scroll",y,d.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",k,d.passiveCapture))}m.is.desktop===!0&&m.is.mac===!0&&window[`${e}EventListener`]("wheel",Z,d.notPassive),e==="remove"&&(m.is.ios===!0&&(l===!0?(window.visualViewport.removeEventListener("resize",y,d.passiveCapture),window.visualViewport.removeEventListener("scroll",y,d.passiveCapture)):window.removeEventListener("scroll",k,d.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=x,t.style.top=C,window.scrollTo(b,g),w=void 0)}function te(e){let t="add";if(e===!0){if(p++,f!==void 0){clearTimeout(f),f=void 0;return}if(p>1)return}else{if(p===0||(p--,p>0))return;if(t="remove",m.is.ios===!0&&m.is.nativeMobile===!0){clearTimeout(f),f=setTimeout(()=>{U(t),f=void 0},100);return}}U(t)}function ce(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,te(t))}}}function fe(){let e;const t=q();function l(){clearTimeout(e)}return F(l),Q(l),{removeTimeout:l,registerTimeout(r,i){clearTimeout(e),K(t)===!1&&(e=setTimeout(r,i))}}}export{ie as Q,ne as a,ae as b,ue as c,fe as d,de as e,ce as f,se as u};
