import{u as M,I as O,K as z,v as l,B as k,O as L,C as V,x as o,S as K,E as U,ba as j,m as f,a7 as G}from"./index.4e690c71.js";import{u as H,a as J,b as R}from"./QCarouselSlide.cb06c1f6.js";import{u as W,a as X,b as Y}from"./use-fullscreen.4cf36603.js";const Z=["top","right","bottom","left"],p=["regular","flat","outline","push","unelevated"];var te=M({name:"QCarousel",props:{...O,...H,...W,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>p.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Z.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...X,...J],setup(e,{slots:u}){const{proxy:{$q:i}}=U(),$=z(e,i);let t=null,s;const{updatePanelsList:T,getPanelContent:B,panelDirectives:D,goToPanel:_,previousPanel:h,nextPanel:q,getEnabledPanels:E,panelIndex:c}=R(),{inFullscreen:x}=Y(),F=l(()=>x.value!==!0&&e.height!==void 0?{height:e.height}:{}),v=l(()=>e.vertical===!0?"vertical":"horizontal"),N=l(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(x.value===!0?" fullscreen":"")+($.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${v.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${y.value}`:"")),C=l(()=>{const n=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?n.reverse():n}),b=l(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),Q=l(()=>e.navigationActiveIcon||b.value),y=l(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),g=l(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));k(()=>e.modelValue,()=>{e.autoplay&&m()}),k(()=>e.autoplay,n=>{n?m():t!==null&&(clearTimeout(t),t=null)});function m(){const n=j(e.autoplay)===!0?Math.abs(e.autoplay):5e3;t!==null&&clearTimeout(t),t=setTimeout(()=>{t=null,n>=0?q():h()},n)}L(()=>{e.autoplay&&m()}),V(()=>{t!==null&&clearTimeout(t)});function P(n,r){return o("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${n} q-carousel__navigation--${y.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[o("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},E().map(r))])}function A(){const n=[];if(e.navigation===!0){const r=u["navigation-icon"]!==void 0?u["navigation-icon"]:a=>o(f,{key:"nav"+a.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${a.active===!0?"":"in"}active`,...a.btnProps,onClick:a.onClick}),d=s-1;n.push(P("buttons",(a,w)=>{const S=a.props.name,I=c.value===w;return r({index:w,maxIndex:d,name:S,active:I,btnProps:{icon:I===!0?Q.value:b.value,size:"sm",...g.value},onClick:()=>{_(S)}})}))}else if(e.thumbnails===!0){const r=e.controlColor!==void 0?` text-${e.controlColor}`:"";n.push(P("thumbnails",d=>{const a=d.props;return o("img",{key:"tmb#"+a.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${a.name===e.modelValue?"":"in"}active`+r,src:a.imgSrc||a["img-src"],onClick:()=>{_(a.name)}})}))}return e.arrows===!0&&c.value>=0&&((e.infinite===!0||c.value>0)&&n.push(o("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${v.value} absolute flex flex-center`},[o(f,{icon:C.value[0],...g.value,onClick:h})])),(e.infinite===!0||c.value<s-1)&&n.push(o("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${v.value} absolute flex flex-center`},[o(f,{icon:C.value[1],...g.value,onClick:q})]))),G(u.control,n)}return()=>(s=T(u),o("div",{class:N.value,style:F.value},[K("div",{class:"q-carousel__slides-container"},B(),"sl-cont",e.swipeable,()=>D.value)].concat(A())))}});export{te as Q};
