import{Q as c}from"./QInput.2bae6fa3.js";import{f as g,r as d,_,i as f,y as h,x as l,aF as y,l as p,q as S,F as v,j as C,p as w}from"./index.c61c3b91.js";import"./use-key-composition.5e5cef0f.js";import"./use-dark.6eafdff9.js";import"./uid.42677368.js";import"./use-form.008eec9d.js";const i={_origin:"https://api.emailjs.com"},L=(s,e="https://api.emailjs.com")=>{i._userID=s,i._origin=e},E=(s,e,t)=>{if(!s)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class u{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const I=(s,e,t={})=>new Promise((n,r)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:o})=>{const m=new u(o);m.status===200||m.text==="OK"?n(m):r(m)}),a.addEventListener("error",({target:o})=>{r(new u(o))}),a.open("POST",i._origin+s,!0),Object.keys(t).forEach(o=>{a.setRequestHeader(o,t[o])}),a.send(e)}),M=(s,e,t,n)=>{const r=n||i._userID;E(r,s,e);const a={lib_version:"3.10.0",user_id:r,service_id:s,template_id:e,template_params:t};return I("/api/v1.0/email/send",JSON.stringify(a),{"Content-type":"application/json"})},P=s=>{let e;if(typeof s=="string"?e=document.querySelector(s):e=s,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},b=(s,e,t,n)=>{const r=n||i._userID,a=P(t);E(r,s,e);const o=new FormData(a);return o.append("lib_version","3.10.0"),o.append("service_id",s),o.append("template_id",e),o.append("user_id",r),I("/api/v1.0/email/send-form",o)};var V={init:L,send:M,sendForm:b};const T=g({name:"UserContactComponent",setup(){const s=d(),e=d(""),t=d("");return{templateParams:d({from_name:e,message:s,reply_to:t}),newMessage:s,fromName:e,replyTo:t}},methods:{sendEmail(){console.log("send email...");const s={}.EMAILJS_SERVICE_ID,e={}.EMAILJS_PUBLIC_KEY;if(console.log("Public key: "+e),console.log("SERVICE_ID: "+s),!{}.EMAILJS_PUBLIC_KEY||!{}.EMAILJS_SERVICE_ID||!{}.EMAILJS_TEMPLATE_ID){console.log("Error. One or more email service parameters was not supplied."),alert("Error. One or more email service parameters were not supplied.");return}if(!this.templateParams.message){console.log("Error. No message."),alert("Please type a message.");return}if(!this.templateParams.reply_to){console.log("Error. No reply_to email address."),alert("Please type your email address.");return}V.send({}.EMAILJS_SERVICE_ID,{}.EMAILJS_TEMPLATE_ID,this.templateParams,{}.EMAILJS_PUBLIC_KEY).then(t=>{console.log("SUCCESS!",t.text),alert("Email sent")},t=>{console.log("FAILED...",t.text)})}}}),q=l("div",{"no-border":"",class:"q-pa-md",style:{"min-width":"320px"}},[l("div",{class:"q-pa-sm font-semibold"}," If you have any requests or suggestions, please email darren@paladyne.co.jp or fill out the form below. I appreciate your input and will respond to every well-intentioned message. ")],-1),U={class:"container q-pa-sm q-ma-md"},A={class:"field"},D={class:"field"},F={class:"field"},J={class:"text-center q-pa-md full-width"};function N(s,e,t,n,r,a){return f(),h(v,null,[q,l("div",U,[l("form",{ref:"form",onSubmit:e[3]||(e[3]=y((...o)=>s.sendEmail&&s.sendEmail(...o),["prevent"]))},[l("div",A,[p(c,{autogrow:"",type:"textarea",name:"message",label:"Message:",modelValue:s.newMessage,"onUpdate:modelValue":e[0]||(e[0]=o=>s.newMessage=o)},null,8,["modelValue"])]),l("div",D,[p(c,{id:"from_name",type:"text",label:"Your name: ",modelValue:s.fromName,"onUpdate:modelValue":e[1]||(e[1]=o=>s.fromName=o),name:"from_name",placeholder:"Your Name"},null,8,["modelValue"])]),l("div",F,[p(c,{id:"reply_to",type:"email",label:"Your email address:",modelValue:s.replyTo,"onUpdate:modelValue":e[2]||(e[2]=o=>s.replyTo=o),name:"reply_to",placeholder:"Your email address"},null,8,["modelValue"])])],544)]),l("div",J,[p(S,{class:"q-ml-md",label:"Send email",size:"md",icon:"fa fa-paper-plane",color:"green",onClick:s.sendEmail},null,8,["onClick"])])],64)}var k=_(T,[["render",N]]);const $={name:"UserFeedbackPage",components:{UserContactComp:k}};function j(s,e,t,n,r,a){const o=w("UserContactComp");return f(),C(o)}var H=_($,[["render",j]]);export{H as default};
